<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="/public/style.css">
  <style>
    #map {
      width: 98vw;
      height: 80vh;
      margin: 0 auto;
      border-radius: 16px;
      margin-top: 24px;
      display: block;
    }
  </style>
</head>
<body>
  <div class="container" id="map-container" style="max-width: 100vw; width: 100vw; height: 100vh; margin: 0; padding: 0; box-shadow: none; background: none; border-radius: 0; display: flex; flex-direction: column; align-items: center; justify-content: flex-start;">
    <h1 id="map-university-name" style="margin-top: 32px;">Campus Map</h1>
    <div id="map"></div>
    <div style="margin-top:24px;">
      <a id="to3dmap" class="submit-btn" style="margin-right:16px;">Switch to 3D Map</a>
      <a id="toindex" href="/public/index.html" class="submit-btn" style="display:inline-block;">Back</a>
    </div>
  </div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="/public/map.js"></script>
  <script>
    // Add event to switch to 3D map
    document.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const name = params.get('name');
      document.getElementById('to3dmap').addEventListener('click', function() {
        window.location.href = `/public/3dmap/map3d.html?name=${encodeURIComponent(name)}`;
      });
      // Ensure going back to index preserves the selected university (optional, can be removed if not needed)
      document.getElementById('toindex').addEventListener('click', function(e) {
        if (name) {
          e.preventDefault();
          window.location.href = `/public/index.html?name=${encodeURIComponent(name)}`;
        }
      });
    });
  </script>
</body>
</html>
